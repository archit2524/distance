<!DOCTYPE html>
<html lang="en">
<title>Distance Learning</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="file:///C:/wamp64/www/DL/content1.css">
<link rel="stylesheet" href="file:///C:/wamp64/www/DL/content2.css">
<link rel="stylesheet" href="file:///C:/wamp64/www/DL/content3.css">
<link rel="stylesheet" href="file:///C:/wamp64/www/DL/content4.css">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
.w3-bar,h1,button {font-family: "Montserrat", sans-serif}
.fa-anchor,.fa-coffee {font-size:200px}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-grey w3-card w3-left-align w3-large">
    <a href="DL/index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">HOME</a>
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-red" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="applet.html" class="w3-bar-item w3-button w3-padding-large w3-hover-white">APPLET</a>
    <a href="awt.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">AWT</a>
    <a href="jdbc.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">JDBC</a>
    <a href="Servlets.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">SERVLETS</a>
    <a href="JSP.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">JSP</a>
 
 </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 1</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 2</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 3</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 4</a>
  </div>
</div>

<!-- Header -->
<header class="w3-container w3-grey w3-center" style="padding:128px 16px">
  <h1 class="w3-margin w3-jumbo">ADVANCE JAVA</h1>
  <p class="w3-xlarge">SERVLETS</p>
  <!--<button class="w3-button w3-black w3-padding-large w3-large w3-margin-top">Get Started</button>-->
</header>

<!-- First Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <!--<div class="w3-twothird">-->
      <h1><strong>SERVLETS</strong> </h1>
      <h5 class="w3-padding-32">Java Servlets are programs that run on a Web or Application server and act as a middle layer between a requests coming from a Web browser or other HTTP client and databases or applications on the HTTP server.</br></br>

Using Servlets, you can collect input from users through web page forms, present records from a database or another source, and create web pages dynamically.</br></br>

Java Servlets often serve the same purpose as programs implemented using the Common Gateway Interface (CGI). But Servlets offer several advantages in comparison with the CGI.</br></br>
<ul>
<li> Performance is significantly better. </li>
<li>  Servlets execute within the address space of a Web server. It is not necessary to create a separate process to handle each client request. </li>
<li> Servlets are platform-independent because they are written in Java. </li>
<li>Java security manager on the server enforces a set of restrictions to protect the resources on a server machine. So servlets are trusted. </li>
<li>The full functionality of the Java class libraries is available to a servlet. It can communicate with applets, databases, or other software via the sockets and RMI mechanisms that you have seen already. </li>
</ul>
<STRONG><font size="+2">Servlets Architecture:-</STRONG></font></br></br>
The following diagram shows the position of Servlets in a Web Application.</br>
<center><img src="https://www.tutorialspoint.com/servlets/images/servlet-arch.jpg" alt="Girl in a jacket" width="500" height="250"></center>
<STRONG><font size="+2">Servlets Tasks:-</STRONG></font></br></br>
Servlets perform the following major tasks -</br></br>
<ul>
<li> Read the explicit data sent by the clients (browsers). This includes an HTML form on a Web page or it could also come from an applet or a custom HTTP client program.</li>
<li> Read the implicit HTTP request data sent by the clients (browsers). This includes cookies, media types and compression schemes the browser understands, and so forth.</li>
<li> Process the data and generate the results. This process may require talking to a database, executing an RMI or CORBA call, invoking a Web service, or computing the response directly.</li>
<li>  Send the explicit data (i.e., the document) to the clients (browsers). This document can be sent in a variety of formats, including text (HTML or XML), binary (GIF images), Excel, etc.</li>
<li>  Send the implicit HTTP response to the clients (browsers). This includes telling the browsers or other clients what type of document is being returned (e.g., HTML), setting cookies and caching parameters, and other such tasks.</li>
</ul>
<STRONG><font size="+2">Servlets Packages:-</STRONG></font></br></br>
Java Servlets are Java classes run by a web server that has an interpreter that supports the Java Servlet specification.

Servlets can be created using the javax.servlet and javax.servlet.http packages, which are a standard part of the Java's enterprise edition, an expanded version of the Java class library that supports large-scale development projects.</br></br>

These classes implement the Java Servlet and JSP specifications. At the time of writing this tutorial, the versions are Java Servlet 2.5 and JSP 2.1.</br></br>

Java servlets have been created and compiled just like any other Java class. After you install the servlet packages and add them to your computer's Classpath, you can compile servlets with the JDK's Java compiler or any other current compiler.</br></br>
<STRONG><font size="+2">Life Cycle:-</STRONG></font></br></br>
A servlet life cycle can be defined as the entire process from its creation till the destruction. The following are the paths followed by a servlet.</br></br>
<ul>
<li>The servlet is initialized by calling the init() method.</li>
<li>The servlet calls service() method to process a client's request.</li>
<li>The servlet is terminated by calling the destroy() method.</li>
<li> Finally, servlet is garbage collected by the garbage collector of the JVM.</li>
</ul>
Now let us discuss the life cycle methods in detail.</br></br>
<STRONG><font size="+1">The init() Method:-</STRONG></font></br></br>
The init method is called only once. It is called only when the servlet is created, and not called for any user requests afterwards. So, it is used for one-time initializations, just as with the init method of applets.</br></br>

The servlet is normally created when a user first invokes a URL corresponding to the servlet, but you can also specify that the servlet be loaded when the server is first started.</br></br>
When a user invokes a servlet, a single instance of each servlet gets created, with each user request resulting in a new thread that is handed off to doGet or doPost as appropriate. The init() method simply creates or loads some data that will be used throughout the life of the servlet.</br></br>
The init method definition looks like this -</br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
public void init() throws ServletException {</br>
   // Initialization code...</br>
}
</div>
</h5>
      <h1><strong><font size="+1">The service() Method :-</strong></font> </h1>
<h5 class="w3-padding-32">The service() method is the main method to perform the actual task. The servlet container (i.e. web server) calls the service() method to handle requests coming from the client( browsers) and to write the formatted response back to the client.</br></br>

Each time the server receives a request for a servlet, the server spawns a new thread and calls service. The service() method checks the HTTP request type (GET, POST, PUT, DELETE, etc.) and calls doGet, doPost, doPut, doDelete, etc. methods as appropriate.</br></br>

Here is the signature of this method -</br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
public void service(ServletRequest request, ServletResponse response) </br>
   throws ServletException, IOException {</br>
}
</div>
</h5>
<h5 class="w3-padding-32">The service () method is called by the container and service method invokes doGet, doPost, doPut, doDelete, etc. methods as appropriate. So you have nothing to do with service() method but you override either doGet() or doPost() depending on what type of request you receive from the client.</br></br>
The doGet() and doPost() are most frequently used methods with in each service request. Here is the signature of these two methods.</br></br>
<STRONG><font size="+2">The doGet() Method:-</STRONG></font></br></br>
A GET request results from a normal request for a URL or from an HTML form that has no METHOD specified and it should be handled by doGet() method.</br></br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
public void doGet(HttpServletRequest request, HttpServletResponse response)</br>
   throws ServletException, IOException {</br>
   // Servlet code</br>
}
</div>
</h5>
<h5 class="w3-padding-32"><STRONG><font size="+2">The doPost() Method:-</STRONG></font></br></br>
A POST request results from an HTML form that specifically lists POST as the METHOD and it should be handled by doPost() method.</br></br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
public void doPost(HttpServletRequest request, HttpServletResponse response)</br>
   throws ServletException, IOException {</br>
   // Servlet code</br>
}
</div>
</h5>
<h5 class="w3-padding-32"><STRONG><font size="+2">The destroy() Method:-</STRONG></font></br></br>
The destroy() method is called only once at the end of the life cycle of a servlet. This method gives your servlet a chance to close database connections, halt background threads, write cookie lists or hit counts to disk, and perform other such cleanup activities.</br></br>
After the destroy() method is called, the servlet object is marked for garbage collection. The destroy method definition looks like this -</br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
public void destroy() {</br>
   // Finalization code...</br>
}
</div>
</h5>
<h5 class="w3-padding-32"><STRONG><font size="+2">Architecture Diagram:-</STRONG></font></br></br>
The following figure depicts a typical servlet life-cycle scenario.</br>
<ul>
<li>First the HTTP requests coming to the server are delegated to the servlet container.</li>
<li>The servlet container loads the servlet before invoking the service() method.</li>
<li>Then the servlet container handles multiple requests by spawning multiple threads, each thread executing the service() method of a single instance of the servlet.</li>
</ul>
<center><img src="https://www.tutorialspoint.com/servlets/images/servlet-lifecycle.jpg" alt="Girl in a jacket" width="500" height="250"></center>
<STRONG><font size="+2">Steps to Create Servlet:-</STRONG></font></br></br>
 To create a Servlet application you need to follow the below mentioned steps. These steps are common for all the Web server. In our example we are using Apache Tomcat server. Apache Tomcat is an open source web server for testing servlets and JSP technology. Download latest version of Tomcat Server and install it on your machine.</br></br>
After installing Tomcat Server on your machine follow the below mentioned steps :</br>

    1.Create directory structure for your application.</br>
    2.Create a Servlet</br>
    3.Compile the Servlet</br>
    4.Create Deployement Descriptor for your application</br>
    5.Start the server and deploy the application</br>

All these 5 steps are explained in details below, lets create our first Servlet Application.</br></br>
<STRONG><font size="+1">1. Creating the Directory Structure:-</STRONG></font></br></br>
Sun Microsystem defines a unique directory structure that must be followed to create a servlet application. </br></br>
<center><img src="https://static.studytonight.com/servlet/images/servlet-directory-structure.jpg" alt="Girl in a jacket" width="500" height="250"></center>
Create the above directory structure inside Apache-Tomcat\webapps directory. All HTML, static files(images, css etc) are kept directly under Web application folder. While all the Servlet classes are kept inside classes folder.</br></br>
The web.xml (deployement descriptor) file is kept under WEB-INF folder.</br></br>
<STRONG><font size="+1">2. Creating a Servlet:-</STRONG></font></br></br>
There are three different ways to create a servlet.</br>
<ul>
<li>By implementing Servlet interface</li>
<li>  By extending GenericServlet class</li>
<li> By extending HttpServlet class</li>
</ul>
 But mostly a servlet is created by extending HttpServlet abstract class. As discussed earlier HttpServlet gives the definition of service() method of the Servlet interface. The servlet class that we will create should not override service() method. Our servlet class will override only doGet() or doPost() method.</br></br>
When a request comes in for the servlet, the Web Container calls the servlet's service() method and depending on the type of request the service() method calls either the doGet() or doPost() method. </br></br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
import javax.servlet.*;</br>
import javax.servlet.http.*;</br>
import java.io.*;</br></br>

public MyServlet extends HttpServlet</br>
{</br>
	public void doGet(HttpServletRequest request,HttpServletResposne response)</br> 
	                     throws ServletException {</br>
		response.setContentType("text/html");</br>
		PrintWriter out = response.getWriter();</br>
		out.println("<html><body>");</br>
		out.println("<h1>Hello Readers</h1>");</br>
		out.println("</body></html>");</br>
	}</br>
}
</div>
</h5>
<h5 class="w3-padding-32">Write above code in a notepad file and save it as MyServlet.java anywhere on your PC. Compile it(explained in next step) from there and paste the class file into WEB-INF/classes/ directory that you have to create inside Tomcat/webapps directory. </br></br>
<STRONG><font size="+1">3. Compiling a Servlet:-</STRONG></font></br></br>
 To compile a Servlet a JAR file is required. Different servers require different JAR files. In Apache Tomcat server servlet-api.jar file is required to compile a servlet class.</br></br>
Steps to compile a Servlet:</br>
<ul>
<li>Set the Class Path.</li></br>
<center><img src="https://static.studytonight.com/servlet/images/setting-classpath.jpg" alt="Girl in a jacket" width="500" height="250"></center></br>
<li>Download servlet-api.jar file.</li></br>
<li>Paste the servlet-api.jar file inside Java\jdk\jre\lib\ext directory.</li></br>
<center><img src="https://static.studytonight.com/servlet/images/compile-a-servlet-class.jpg" alt="Girl in a jacket" width="500" height="250"></center></br>
<li>Compile the Servlet class.</li></br>
<center><img src="https://static.studytonight.com/servlet/images/compile-servlet.jpg" alt="Girl in a jacket" width="500" height="250"></center></br>
</ul>
<STRONG><font size="+1">4. Create Deployment Descriptor:-</STRONG></font></br></br>
Deployment Descriptor(DD) is an XML document that is used by Web Container to run Servlets and JSP pages. DD is used for several important purposes such as: </br>
<ul>
<li>Mapping URL to Servlet class.</li>
<li> Initializing parameters.</li>
<li> Defining Error page.</li>
<li> Security roles.</li>
<li> Declaring tag libraries.</li>
</ul>
We will discuss about all these in details later. Now we will see how to create a simple web.xml file for our web application.</br></br>
<center><img src="https://static.studytonight.com/servlet/images/web-xml-file.jpg" alt="Girl in a jacket" width="500" height="550"></center></br>
<STRONG><font size="+1">5. Start the Server:-</STRONG></font></br></br>
 Double click on the startup.bat file to start your Apache Tomcat Server.</br></br>

Or, execute the following command on your windows machine using RUN prompt</br></br>
<div class="w3-row-padding w3-light-grey w3-padding-32 w3-container">
  <div class="w3-content">
 <!--<div class="w3-third w3-center">-->
C:\apache-tomcat-7.0.14\bin\startup.bat
</div>
</h5>
</div>

    <!--<div class="w3-third w3-center">-->
      <!--<i class="fa fa-anchor w3-padding-64 w3-text-red"></i>-->
    </div>
  </div>
</div>

<!-- Second Grid -->
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
      <!--<i class="fa fa-coffee w3-padding-64 w3-text-red w3-margin-right"></i>-->
    </div>

    <!--<div class="w3-twothird">
      <h1>Lorem Ipsum</h1>
      <h5 class="w3-padding-32">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</h5>

      <p class="w3-text-grey">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint
        occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
        laboris nisi ut aliquip ex ea commodo consequat.</p>
    </div>
  </div>
</div>-->

<!--<div class="w3-container w3-black w3-center w3-opacity w3-padding-64">
    <h1 class="w3-margin w3-xlarge">Quote of the day: live life</h1>
</div>-->

<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
  var x = document.getElementById("navDemo");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else { 
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>

</body>
</html>